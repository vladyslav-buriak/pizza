{"ast":null,"code":"var _jsxFileName = \"/Users/dianasprakha/Desktop/pizza/front/src/pages/Home/index.tsx\",\n    _s = $RefreshSig$();\n\nimport \"../../scss/app.scss\";\nimport { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { setSortCategory, setCurrentPage, selectFilter } from \"../../redux/slices/filterSlice\";\nimport { fetchAllPizzas, selectPizzas } from \"../../redux/slices/pizzasSlice\";\nimport SkeletonPizza from \"../../components/PizzaItem/Skeleton/SkeletonPizza\";\nimport Categories from \"../../components/Categories\";\nimport PizzaItem from \"../../components/PizzaItem\";\nimport Sort from \"../../components/Sort\";\nimport CartEmpty from \"../Cart/CartEmpty\";\nimport Pagination from \"../../components/Pagination\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const {\n    currentSortBy,\n    currentCat,\n    currentPage,\n    searchValue\n  } = useSelector(selectFilter);\n  const {\n    pizzasItem,\n    amount,\n    limit,\n    loading\n  } = useSelector(selectPizzas);\n  const dispatch = useDispatch();\n\n  const handlerCategory = index => {\n    dispatch(setSortCategory(index));\n  };\n\n  const handlerPagination = page => {\n    dispatch(setCurrentPage(page));\n  };\n\n  const getAllPizzas = async () => {\n    const category = currentCat > 0 ? `&category=${currentCat}` : \" \";\n    dispatch( //@ts-ignore\n    fetchAllPizzas({\n      searchValue,\n      sortBy: currentSortBy.sortProps,\n      order: currentSortBy.sortOrder,\n      category,\n      currentPage,\n      limit\n    }));\n  };\n\n  useEffect(() => {\n    getAllPizzas();\n  }, [currentSortBy, searchValue, currentPage, currentCat]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__top\",\n      children: [/*#__PURE__*/_jsxDEV(Categories, {\n        currentCat: currentCat,\n        handlerCategory: handlerCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Sort, {\n        currentSortBy: currentSortBy\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"content__title\",\n      children: \"\\u0412\\u0441\\u0456 \\u043F\\u0456\\u0446\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), loading === \"error\" ? /*#__PURE__*/_jsxDEV(CartEmpty, {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0432\\u043E\\u0437\\u043D\\u0438\\u043A\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__items\",\n      children: loading === \"pending\" ? [...new Array(6)].map((_, i) => /*#__PURE__*/_jsxDEV(SkeletonPizza, {\n        info: true,\n        height: 260\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)) : pizzasItem.map((p, i) => {\n        return /*#__PURE__*/_jsxDEV(PizzaItem, { ...p\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 24\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      pages: amount,\n      changePages: handlerPagination\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Home, \"oRNW6TG34ckN7Ad/cpl34+S/LOE=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useSelector","useDispatch","setSortCategory","setCurrentPage","selectFilter","fetchAllPizzas","selectPizzas","SkeletonPizza","Categories","PizzaItem","Sort","CartEmpty","Pagination","Home","currentSortBy","currentCat","currentPage","searchValue","pizzasItem","amount","limit","loading","dispatch","handlerCategory","index","handlerPagination","page","getAllPizzas","category","sortBy","sortProps","order","sortOrder","Array","map","_","i","p"],"sources":["/Users/dianasprakha/Desktop/pizza/front/src/pages/Home/index.tsx"],"sourcesContent":["import \"../../scss/app.scss\";\nimport { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  setSortCategory,\n  setCurrentPage,\n  selectFilter,\n} from \"../../redux/slices/filterSlice\";\nimport { fetchAllPizzas, selectPizzas } from \"../../redux/slices/pizzasSlice\";\nimport SkeletonPizza from \"../../components/PizzaItem/Skeleton/SkeletonPizza\";\nimport Categories from \"../../components/Categories\";\nimport PizzaItem from \"../../components/PizzaItem\";\nimport Sort from \"../../components/Sort\";\nimport CartEmpty from \"../Cart/CartEmpty\";\nimport Pagination from \"../../components/Pagination\";\n\nconst Home = () => {\n  const { currentSortBy, currentCat, currentPage, searchValue } =\n    useSelector(selectFilter);\n  const { pizzasItem, amount, limit, loading } = useSelector(selectPizzas);\n\n  const dispatch = useDispatch();\n\n  const handlerCategory = (index:number) => {\n    dispatch(setSortCategory(index));\n  };\n\n  const handlerPagination = (page:number) => {\n    dispatch(setCurrentPage(page));\n  };\n\n  const getAllPizzas = async () => {\n    const category = currentCat > 0 ? `&category=${currentCat}` : \" \";\n    dispatch(\n      //@ts-ignore\n      fetchAllPizzas({\n        searchValue,\n        sortBy: currentSortBy.sortProps,\n        order: currentSortBy.sortOrder,\n        category,\n        currentPage,\n        limit,\n      })\n    );\n  };\n\n  useEffect(() => {\n    getAllPizzas();\n  }, [currentSortBy, searchValue, currentPage, currentCat]);\n\n  return (\n    <>\n      <div className=\"content__top\">\n        <Categories currentCat={currentCat} handlerCategory={handlerCategory} />\n        <Sort currentSortBy={currentSortBy} />\n      </div>\n      <h2 className=\"content__title\">Всі піци</h2>\n      {loading === \"error\" ? (\n        <CartEmpty>\n          <h2>возникла ошибка</h2>\n        </CartEmpty>\n      ) : (\n        <div className=\"content__items\">\n          {loading === \"pending\"\n            ? [...new Array(6)].map((_, i) => (\n                <SkeletonPizza key={i} info={true} height={260} />\n              ))\n            : pizzasItem.map((p:any, i:number) => {\n                return <PizzaItem key={i} {...p} />;\n              })}\n        </div>\n      )}\n      <Pagination pages={amount} changePages={handlerPagination} />\n    </>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}