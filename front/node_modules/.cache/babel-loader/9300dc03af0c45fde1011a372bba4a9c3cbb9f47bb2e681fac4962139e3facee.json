{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  totalPrice: 0,\n  items: []\n};\nexport const cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    addItems: (state, action) => {\n      let find = state.items.find(p => {\n        return p.id === action.payload.id;\n      });\n      if (find) {\n        find.count++;\n      } else {\n        state.items.push({\n          ...action.payload,\n          count: 1\n        });\n      }\n      state.totalPrice = state.items.reduce((sum, item) => {\n        return item.price * item.count + sum;\n      }, 0);\n    },\n    minusItems: (state, action) => {\n      let find = state.items.find(p => {\n        return p.id === action.payload;\n      });\n      if (find && find.count > 1) {\n        find.count--;\n        state.totalPrice = state.items.reduce((sum, item) => {\n          return item.price * item.count + sum;\n        }, 0);\n      } else {\n        state.items = state.items.filter(p => p.id !== action.payload);\n        state.totalPrice = 0;\n      }\n    },\n    plusItems: (state, action) => {\n      let find = state.items.find(p => {\n        return p.id === action.payload;\n      });\n      if (find) {\n        find.count++;\n        state.totalPrice = state.items.reduce((sum, item) => {\n          return item.price * item.count + sum;\n        }, 0);\n      }\n    },\n    setClearCart: (state, action) => {\n      state.items = [];\n      state.totalPrice = 0;\n    },\n    removeItems: (state, action) => {\n      state.items = [...state.items.filter(item => item.id !== action.payload.id)];\n      let singlePrice = action.payload.price * action.payload.count;\n      state.totalPrice = state.totalPrice - singlePrice;\n    }\n  }\n});\nexport const selectCart = state => state.cart;\nexport const selectCartItem = id => state => state.cart.items.find(items => items.id === id);\nexport const {\n  addItems,\n  minusItems,\n  plusItems,\n  setClearCart,\n  removeItems\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","totalPrice","items","cartSlice","name","reducers","addItems","state","action","find","p","id","payload","count","push","reduce","sum","item","price","minusItems","filter","plusItems","setClearCart","removeItems","singlePrice","selectCart","cart","selectCartItem","actions","reducer"],"sources":["/Users/dianasprakha/Desktop/pizza/front/src/redux/slices/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  totalPrice: 0,\n  items: [],\n};\n\nexport const cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    addItems: (state, action) => {\n      let find = state.items.find((p) => {\n        return p.id === action.payload.id;\n      });\n      if (find) {\n        find.count++;\n      } else {\n        state.items.push({ ...action.payload, count: 1 });\n      }\n      state.totalPrice = state.items.reduce((sum, item) => {\n        return item.price * item.count + sum;\n      }, 0);\n    },\n\n    minusItems: (state, action) => {\n      let find = state.items.find((p) => {\n        return p.id === action.payload;\n      });\n\n      if (find && find.count > 1) {\n        find.count--;\n        state.totalPrice = state.items.reduce((sum, item) => {\n          return item.price * item.count + sum;\n        }, 0);\n      } else {\n        state.items = state.items.filter((p) => p.id !== action.payload);\n        state.totalPrice = 0;\n      }\n    },\n\n    plusItems: (state, action) => {\n      let find = state.items.find((p) => {\n        return p.id === action.payload;\n      });\n\n      if (find) {\n        find.count++;\n        state.totalPrice = state.items.reduce((sum, item) => {\n          return item.price * item.count + sum;\n        }, 0);\n      }\n    },\n\n    setClearCart: (state, action) => {\n      state.items = [];\n      state.totalPrice = 0;\n    },\n    removeItems: (state, action) => {\n      state.items = [\n        ...state.items.filter((item) => item.id !== action.payload.id),\n      ];\n      let singlePrice = action.payload.price * action.payload.count;\n      state.totalPrice = state.totalPrice - singlePrice;\n    },\n  },\n});\n\nexport const selectCart = (state) => state.cart;\n\nexport const selectCartItem = (id) => (state) =>\n  state.cart.items.find((items) => items.id === id);\n\nexport const { addItems, minusItems, plusItems, setClearCart, removeItems } =\n  cartSlice.actions;\n\nexport default cartSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}