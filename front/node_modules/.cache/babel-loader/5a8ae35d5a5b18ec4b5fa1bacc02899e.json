{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { BASE_URL } from \"../../Consts\";\nimport axios from \"axios\";\nconst initialState = {\n  pizzasItem: [],\n  amount: 0,\n  limit: 4,\n  loading: \"\"\n};\nexport const fetchAllPizzas = createAsyncThunk(\"users/fetchPizzas\", async _ref => {\n  let {\n    searchValue,\n    sortBy,\n    order,\n    category,\n    currentPage,\n    limit\n  } = _ref;\n  const {\n    data\n  } = await axios.get(`${BASE_URL}?&search=${searchValue}&sortBy=${sortBy}&order=${order}&page=${currentPage}&limit=${limit}${category}`);\n  return data;\n});\nexport const itemsSlice = createSlice({\n  name: \"pizzas\",\n  initialState,\n  reducers: {\n    getPizzas: (state, action) => {\n      state.pizzasItem = [...action.payload];\n    },\n    setPizzasCount: (state, action) => {\n      state.amount = Math.ceil(action.payload / state.limit);\n    }\n  },\n  extraReducers: {\n    [fetchAllPizzas.pending]: (state, action) => {\n      state.loading = \"pending\";\n      state.pizzasItem = [];\n    },\n    [fetchAllPizzas.fulfilled]: (state, action) => {\n      state.pizzasItem = action.payload.products;\n      state.amount = Math.ceil(action.payload.count / state.limit);\n      state.loading = \"succeeded\";\n    },\n    [fetchAllPizzas.rejected]: (state, action) => {\n      state.loading = \"error\";\n      state.pizzasItem = [];\n    }\n  }\n});\nexport const selectPizzas = state => state.pizzas;\nexport const {\n  getPizzas,\n  setPizzasCount\n} = itemsSlice.actions;\nexport default itemsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","BASE_URL","axios","initialState","pizzasItem","amount","limit","loading","fetchAllPizzas","searchValue","sortBy","order","category","currentPage","data","get","itemsSlice","name","reducers","getPizzas","state","action","payload","setPizzasCount","Math","ceil","extraReducers","pending","fulfilled","products","count","rejected","selectPizzas","pizzas","actions","reducer"],"sources":["/Users/dianasprakha/Desktop/pizza/src/redux/slices/pizzasSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { BASE_URL } from \"../../Consts\";\nimport axios from \"axios\";\n\nconst initialState = {\n  pizzasItem: [],\n  amount: 0,\n  limit: 4,\n  loading: \"\",\n};\n\nexport const fetchAllPizzas = createAsyncThunk(\n  \"users/fetchPizzas\",\n  async ({ searchValue, sortBy, order, category, currentPage, limit }) => {\n    const { data } = await axios.get(\n      `${BASE_URL}?&search=${searchValue}&sortBy=${sortBy}&order=${order}&page=${currentPage}&limit=${limit}${category}`\n    );\n\n    return data;\n  }\n);\n\nexport const itemsSlice = createSlice({\n  name: \"pizzas\",\n  initialState,\n  reducers: {\n    getPizzas: (state, action) => {\n      state.pizzasItem = [...action.payload];\n    },\n    setPizzasCount: (state, action) => {\n      state.amount = Math.ceil(action.payload / state.limit);\n    },\n  },\n  extraReducers: {\n    [fetchAllPizzas.pending]: (state, action) => {\n      state.loading = \"pending\";\n      state.pizzasItem = [];\n    },\n    [fetchAllPizzas.fulfilled]: (state, action) => {\n      state.pizzasItem = action.payload.products;\n      state.amount = Math.ceil(action.payload.count / state.limit);\n      state.loading = \"succeeded\";\n    },\n    [fetchAllPizzas.rejected]: (state, action) => {\n      state.loading = \"error\";\n      state.pizzasItem = [];\n    },\n  },\n});\n\nexport const selectPizzas = (state) => state.pizzas;\nexport const { getPizzas, setPizzasCount } = itemsSlice.actions;\n\nexport default itemsSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;EACnBC,UAAU,EAAE,EADO;EAEnBC,MAAM,EAAE,CAFW;EAGnBC,KAAK,EAAE,CAHY;EAInBC,OAAO,EAAE;AAJU,CAArB;AAOA,OAAO,MAAMC,cAAc,GAAGR,gBAAgB,CAC5C,mBAD4C,EAE5C,cAAwE;EAAA,IAAjE;IAAES,WAAF;IAAeC,MAAf;IAAuBC,KAAvB;IAA8BC,QAA9B;IAAwCC,WAAxC;IAAqDP;EAArD,CAAiE;EACtE,MAAM;IAAEQ;EAAF,IAAW,MAAMZ,KAAK,CAACa,GAAN,CACpB,GAAEd,QAAS,YAAWQ,WAAY,WAAUC,MAAO,UAASC,KAAM,SAAQE,WAAY,UAASP,KAAM,GAAEM,QAAS,EAD5F,CAAvB;EAIA,OAAOE,IAAP;AACD,CAR2C,CAAvC;AAWP,OAAO,MAAME,UAAU,GAAGjB,WAAW,CAAC;EACpCkB,IAAI,EAAE,QAD8B;EAEpCd,YAFoC;EAGpCe,QAAQ,EAAE;IACRC,SAAS,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC5BD,KAAK,CAAChB,UAAN,GAAmB,CAAC,GAAGiB,MAAM,CAACC,OAAX,CAAnB;IACD,CAHO;IAIRC,cAAc,EAAE,CAACH,KAAD,EAAQC,MAAR,KAAmB;MACjCD,KAAK,CAACf,MAAN,GAAemB,IAAI,CAACC,IAAL,CAAUJ,MAAM,CAACC,OAAP,GAAiBF,KAAK,CAACd,KAAjC,CAAf;IACD;EANO,CAH0B;EAWpCoB,aAAa,EAAE;IACb,CAAClB,cAAc,CAACmB,OAAhB,GAA0B,CAACP,KAAD,EAAQC,MAAR,KAAmB;MAC3CD,KAAK,CAACb,OAAN,GAAgB,SAAhB;MACAa,KAAK,CAAChB,UAAN,GAAmB,EAAnB;IACD,CAJY;IAKb,CAACI,cAAc,CAACoB,SAAhB,GAA4B,CAACR,KAAD,EAAQC,MAAR,KAAmB;MAC7CD,KAAK,CAAChB,UAAN,GAAmBiB,MAAM,CAACC,OAAP,CAAeO,QAAlC;MACAT,KAAK,CAACf,MAAN,GAAemB,IAAI,CAACC,IAAL,CAAUJ,MAAM,CAACC,OAAP,CAAeQ,KAAf,GAAuBV,KAAK,CAACd,KAAvC,CAAf;MACAc,KAAK,CAACb,OAAN,GAAgB,WAAhB;IACD,CATY;IAUb,CAACC,cAAc,CAACuB,QAAhB,GAA2B,CAACX,KAAD,EAAQC,MAAR,KAAmB;MAC5CD,KAAK,CAACb,OAAN,GAAgB,OAAhB;MACAa,KAAK,CAAChB,UAAN,GAAmB,EAAnB;IACD;EAbY;AAXqB,CAAD,CAA9B;AA4BP,OAAO,MAAM4B,YAAY,GAAIZ,KAAD,IAAWA,KAAK,CAACa,MAAtC;AACP,OAAO,MAAM;EAAEd,SAAF;EAAaI;AAAb,IAAgCP,UAAU,CAACkB,OAAjD;AAEP,eAAelB,UAAU,CAACmB,OAA1B"},"metadata":{},"sourceType":"module"}