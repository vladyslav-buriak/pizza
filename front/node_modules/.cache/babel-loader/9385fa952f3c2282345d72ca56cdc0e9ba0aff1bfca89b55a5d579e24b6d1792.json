{"ast":null,"code":"var _jsxFileName = \"/Users/dianasprakha/Desktop/pizza/front/src/pages/Home/index.jsx\",\n  _s = $RefreshSig$();\nimport \"../../scss/app.scss\";\nimport { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { setSortCategory, setCurrentPage, selectFilter } from \"../../redux/slices/filterSlice\";\nimport { fetchAllPizzas, selectPizzas } from \"../../redux/slices/pizzasSlice\";\nimport SkeletonPizza from \"../../components/PizzaItem/Skeleton/SkeletonPizza\";\nimport Categories from \"../../components/Categories\";\nimport PizzaItem from \"../../components/PizzaItem\";\nimport Sort from \"../../components/Sort\";\nimport CartEmpty from \"../Cart/CartEmpty\";\nimport Pagination from \"../../components/Pagination\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const {\n    currentSortBy,\n    currentCat,\n    currentPage,\n    searchValue\n  } = useSelector(selectFilter);\n  const {\n    pizzasItem,\n    amount,\n    limit,\n    loading\n  } = useSelector(selectPizzas);\n  const dispatch = useDispatch();\n  const handlerCategory = index => {\n    dispatch(setSortCategory(index));\n  };\n  const handlerPagination = page => {\n    dispatch(setCurrentPage(page));\n  };\n  const getAllPizzas = async () => {\n    const category = currentCat > 0 ? `&category=${currentCat}` : \" \";\n    dispatch(fetchAllPizzas({\n      searchValue,\n      sortBy: currentSortBy.sortProps,\n      order: currentSortBy.sortOrder,\n      category,\n      currentPage,\n      limit\n    }));\n  };\n  useEffect(() => {\n    getAllPizzas();\n  }, [currentSortBy, searchValue, currentPage, currentCat]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__top\",\n      children: [/*#__PURE__*/_jsxDEV(Categories, {\n        currentCat: currentCat,\n        handlerCategory: handlerCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Sort, {\n        currentSortBy: currentSortBy\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"content__title\",\n      children: \"\\u0412\\u0441\\u0456 \\u043F\\u0456\\u0446\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), loading === \"error\" ? /*#__PURE__*/_jsxDEV(CartEmpty, {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0432\\u043E\\u0437\\u043D\\u0438\\u043A\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__items\",\n      children: loading === \"pending\" ? [...new Array(6)].map((_, i) => /*#__PURE__*/_jsxDEV(SkeletonPizza, {\n        info: true,\n        height: 260\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)) : pizzasItem.map((p, i) => {\n        return /*#__PURE__*/_jsxDEV(PizzaItem, {\n          ...p\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 24\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      pages: amount,\n      changePages: handlerPagination\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Home, \"oRNW6TG34ckN7Ad/cpl34+S/LOE=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useSelector","useDispatch","setSortCategory","setCurrentPage","selectFilter","fetchAllPizzas","selectPizzas","SkeletonPizza","Categories","PizzaItem","Sort","CartEmpty","Pagination","Home","currentSortBy","currentCat","currentPage","searchValue","pizzasItem","amount","limit","loading","dispatch","handlerCategory","index","handlerPagination","page","getAllPizzas","category","sortBy","sortProps","order","sortOrder","Array","map","_","i","p"],"sources":["/Users/dianasprakha/Desktop/pizza/front/src/pages/Home/index.jsx"],"sourcesContent":["import \"../../scss/app.scss\";\nimport { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  setSortCategory,\n  setCurrentPage,\n  selectFilter,\n} from \"../../redux/slices/filterSlice\";\nimport { fetchAllPizzas, selectPizzas } from \"../../redux/slices/pizzasSlice\";\nimport SkeletonPizza from \"../../components/PizzaItem/Skeleton/SkeletonPizza\";\nimport Categories from \"../../components/Categories\";\nimport PizzaItem from \"../../components/PizzaItem\";\nimport Sort from \"../../components/Sort\";\nimport CartEmpty from \"../Cart/CartEmpty\";\nimport Pagination from \"../../components/Pagination\";\n\nconst Home = () => {\n  const { currentSortBy, currentCat, currentPage, searchValue } =\n    useSelector(selectFilter);\n  const { pizzasItem, amount, limit, loading } = useSelector(selectPizzas);\n\n  const dispatch = useDispatch();\n\n  const handlerCategory = (index) => {\n    dispatch(setSortCategory(index));\n  };\n\n  const handlerPagination = (page) => {\n    dispatch(setCurrentPage(page));\n  };\n\n  const getAllPizzas = async () => {\n    const category = currentCat > 0 ? `&category=${currentCat}` : \" \";\n    dispatch(\n      fetchAllPizzas({\n        searchValue,\n        sortBy: currentSortBy.sortProps,\n        order: currentSortBy.sortOrder,\n        category,\n        currentPage,\n        limit,\n      })\n    );\n  };\n\n  useEffect(() => {\n    getAllPizzas();\n  }, [currentSortBy, searchValue, currentPage, currentCat]);\n\n  return (\n    <>\n      <div className=\"content__top\">\n        <Categories currentCat={currentCat} handlerCategory={handlerCategory} />\n        <Sort currentSortBy={currentSortBy} />\n      </div>\n      <h2 className=\"content__title\">Всі піци</h2>\n      {loading === \"error\" ? (\n        <CartEmpty>\n          <h2>возникла ошибка</h2>\n        </CartEmpty>\n      ) : (\n        <div className=\"content__items\">\n          {loading === \"pending\"\n            ? [...new Array(6)].map((_, i) => (\n                <SkeletonPizza key={i} info={true} height={260} />\n              ))\n            : pizzasItem.map((p, i) => {\n                return <PizzaItem key={i} {...p} />;\n              })}\n        </div>\n      )}\n      <Pagination pages={amount} changePages={handlerPagination} />\n    </>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}