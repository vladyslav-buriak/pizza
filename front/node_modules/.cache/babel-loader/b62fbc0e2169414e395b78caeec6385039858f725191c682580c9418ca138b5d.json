{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { BASE_URL } from \"../../Consts\";\nimport axios from \"axios\";\nconst initialState = {\n  pizzasItem: [],\n  amount: 0,\n  limit: 4,\n  loading: \"\"\n};\nexport const fetchAllPizzas = createAsyncThunk(\"users/fetchPizzas\", async _ref => {\n  let {\n    searchValue,\n    sortBy,\n    order,\n    category,\n    currentPage,\n    limit\n  } = _ref;\n  const {\n    data\n  } = await axios.get(`${BASE_URL}?&search=${searchValue}&sortBy=${sortBy}&order=${order}&page=${currentPage}&limit=${limit}${category}`);\n  return data;\n});\nexport const itemsSlice = createSlice({\n  name: \"pizzas\",\n  initialState,\n  reducers: {\n    getPizzas: (state, action) => {\n      state.pizzasItem = [...action.payload];\n    },\n    setPizzasCount: (state, action) => {\n      state.amount = Math.ceil(action.payload / state.limit);\n    }\n  },\n  extraReducers: {\n    [fetchAllPizzas.pending]: (state, action) => {\n      state.loading = \"pending\";\n      state.pizzasItem = [];\n    },\n    [fetchAllPizzas.fulfilled]: (state, action) => {\n      state.pizzasItem = action.payload.products;\n      state.amount = Math.ceil(action.payload.count / state.limit);\n      state.loading = \"succeeded\";\n    },\n    [fetchAllPizzas.rejected]: (state, action) => {\n      state.loading = \"error\";\n      state.pizzasItem = [];\n    }\n  }\n});\nexport const selectPizzas = state => state.pizzas;\nexport const {\n  getPizzas,\n  setPizzasCount\n} = itemsSlice.actions;\nexport default itemsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","BASE_URL","axios","initialState","pizzasItem","amount","limit","loading","fetchAllPizzas","searchValue","sortBy","order","category","currentPage","data","get","itemsSlice","name","reducers","getPizzas","state","action","payload","setPizzasCount","Math","ceil","extraReducers","pending","fulfilled","products","count","rejected","selectPizzas","pizzas","actions","reducer"],"sources":["/Users/dianasprakha/Desktop/pizza/src/redux/slices/pizzasSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { BASE_URL } from \"../../Consts\";\nimport axios from \"axios\";\n\nconst initialState = {\n  pizzasItem: [],\n  amount: 0,\n  limit: 4,\n  loading: \"\",\n};\n\nexport const fetchAllPizzas = createAsyncThunk(\n  \"users/fetchPizzas\",\n  async ({ searchValue, sortBy, order, category, currentPage, limit }) => {\n    const { data } = await axios.get(\n      `${BASE_URL}?&search=${searchValue}&sortBy=${sortBy}&order=${order}&page=${currentPage}&limit=${limit}${category}`\n    );\n\n    return data;\n  }\n);\n\nexport const itemsSlice = createSlice({\n  name: \"pizzas\",\n  initialState,\n  reducers: {\n    getPizzas: (state, action) => {\n      state.pizzasItem = [...action.payload];\n    },\n    setPizzasCount: (state, action) => {\n      state.amount = Math.ceil(action.payload / state.limit);\n    },\n  },\n  extraReducers: {\n    [fetchAllPizzas.pending]: (state, action) => {\n      state.loading = \"pending\";\n      state.pizzasItem = [];\n    },\n    [fetchAllPizzas.fulfilled]: (state, action) => {\n      state.pizzasItem = action.payload.products;\n      state.amount = Math.ceil(action.payload.count / state.limit);\n      state.loading = \"succeeded\";\n    },\n    [fetchAllPizzas.rejected]: (state, action) => {\n      state.loading = \"error\";\n      state.pizzasItem = [];\n    },\n  },\n});\n\nexport const selectPizzas = (state) => state.pizzas;\nexport const { getPizzas, setPizzasCount } = itemsSlice.actions;\n\nexport default itemsSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,gBAAgB,QAAQ,kBAAkB;AACnD,SAASC,QAAQ,QAAQ,cAAc;AACvC,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG;EACnBC,UAAU,EAAE,EAAE;EACdC,MAAM,EAAE,CAAC;EACTC,KAAK,EAAE,CAAC;EACRC,OAAO,EAAE;AACX,CAAC;AAED,OAAO,MAAMC,cAAc,GAAGR,gBAAgB,CAC5C,mBAAmB,EACnB,cAAwE;EAAA,IAAjE;IAAES,WAAW;IAAEC,MAAM;IAAEC,KAAK;IAAEC,QAAQ;IAAEC,WAAW;IAAEP;EAAM,CAAC;EACjE,MAAM;IAAEQ;EAAK,CAAC,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAC7B,GAAEd,QAAS,YAAWQ,WAAY,WAAUC,MAAO,UAASC,KAAM,SAAQE,WAAY,UAASP,KAAM,GAAEM,QAAS,EAAC,CACnH;EAED,OAAOE,IAAI;AACb,CAAC,CACF;AAED,OAAO,MAAME,UAAU,GAAGjB,WAAW,CAAC;EACpCkB,IAAI,EAAE,QAAQ;EACdd,YAAY;EACZe,QAAQ,EAAE;IACRC,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC5BD,KAAK,CAAChB,UAAU,GAAG,CAAC,GAAGiB,MAAM,CAACC,OAAO,CAAC;IACxC,CAAC;IACDC,cAAc,EAAE,CAACH,KAAK,EAAEC,MAAM,KAAK;MACjCD,KAAK,CAACf,MAAM,GAAGmB,IAAI,CAACC,IAAI,CAACJ,MAAM,CAACC,OAAO,GAAGF,KAAK,CAACd,KAAK,CAAC;IACxD;EACF,CAAC;EACDoB,aAAa,EAAE;IACb,CAAClB,cAAc,CAACmB,OAAO,GAAG,CAACP,KAAK,EAAEC,MAAM,KAAK;MAC3CD,KAAK,CAACb,OAAO,GAAG,SAAS;MACzBa,KAAK,CAAChB,UAAU,GAAG,EAAE;IACvB,CAAC;IACD,CAACI,cAAc,CAACoB,SAAS,GAAG,CAACR,KAAK,EAAEC,MAAM,KAAK;MAC7CD,KAAK,CAAChB,UAAU,GAAGiB,MAAM,CAACC,OAAO,CAACO,QAAQ;MAC1CT,KAAK,CAACf,MAAM,GAAGmB,IAAI,CAACC,IAAI,CAACJ,MAAM,CAACC,OAAO,CAACQ,KAAK,GAAGV,KAAK,CAACd,KAAK,CAAC;MAC5Dc,KAAK,CAACb,OAAO,GAAG,WAAW;IAC7B,CAAC;IACD,CAACC,cAAc,CAACuB,QAAQ,GAAG,CAACX,KAAK,EAAEC,MAAM,KAAK;MAC5CD,KAAK,CAACb,OAAO,GAAG,OAAO;MACvBa,KAAK,CAAChB,UAAU,GAAG,EAAE;IACvB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM4B,YAAY,GAAIZ,KAAK,IAAKA,KAAK,CAACa,MAAM;AACnD,OAAO,MAAM;EAAEd,SAAS;EAAEI;AAAe,CAAC,GAAGP,UAAU,CAACkB,OAAO;AAE/D,eAAelB,UAAU,CAACmB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}